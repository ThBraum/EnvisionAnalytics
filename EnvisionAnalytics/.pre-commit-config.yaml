repos:
  - repo: local
    hooks:
      - id: dotnet-format
        name: dotnet format
        entry: bash -lc "dotnet format --verify-no-changes || (echo 'Run dotnet format to fix issues' && exit 1)"
        language: system
        files: '\.(cs|csproj)$'

      - id: dotnet-build
        name: dotnet build
        entry: bash -lc "dotnet build --nologo"
        language: system
        stages: [commit]

      - id: dotnet-test
        name: dotnet test
        entry: bash -lc "dotnet test --nologo --no-build"
        language: system
        stages: [commit]

      - id: end-of-file-fixer
        name: fix end of file
        entry: bash -lc "python -m pip >/dev/null 2>&1 || true; true"
        language: system
        files: '\.('
