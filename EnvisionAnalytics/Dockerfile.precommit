FROM mcr.microsoft.com/dotnet/sdk:10.0
WORKDIR /workdir

RUN apt-get update && apt-get install -y python3 python3-venv python3-pip git && rm -rf /var/lib/apt/lists/*

RUN python3 -m venv /opt/venv \
	&& /opt/venv/bin/python -m pip install --no-cache-dir --upgrade pip setuptools wheel \
	&& /opt/venv/bin/pip install --no-cache-dir pre-commit

RUN dotnet tool install -g dotnet-format

ENV PATH="/opt/venv/bin:/root/.dotnet/tools:$PATH"

ENTRYPOINT ["tail", "-f", "/dev/null"]
